{
    "componentChunkName": "component---src-templates-issues-tsx",
    "path": "/issues/5",
    "result": {"data":{"issuesJson":{"id":"24850be9-4801-5533-80e4-6cea75f4c394","title":"快速开始","number":5,"bodyHTML":"<h2 dir=\"auto\">步骤</h2>\n<h3 dir=\"auto\">Step1：fork 项目</h3>\n<p dir=\"auto\"><a href=\"https://github.com/lencx/gg\">点击项目</a> 右上角的 Fork 按钮，fork 后，可以对仓库进行重命名，修改成自己喜欢的名称。</p>\n<p dir=\"auto\">重命名（可选操作）:</p>\n<ol dir=\"auto\">\n<li>访问 <code class=\"notranslate\">https://github.com/&lt;owner&gt;/&lt;repo&gt;/settings</code></li>\n<li><code class=\"notranslate\">General</code> -&gt; <code class=\"notranslate\">Repository name</code> -&gt; <code class=\"notranslate\">Rename</code></li>\n</ol>\n<p dir=\"auto\"><strong><g-emoji class=\"g-emoji\" alias=\"warning\">⚠️</g-emoji> 注意：强烈推荐使用 <code class=\"notranslate\">fork</code> 方式，不要对仓库 <code class=\"notranslate\">main</code> 分支代码进行改动，这样可以和上游仓库代码始终保持一致，在升级时，可以快速同步，降低个人的维护成本。</strong></p>\n<h3 dir=\"auto\">Step2：开启 Discussions</h3>\n<p dir=\"auto\"><code class=\"notranslate\">Repo -&gt; Settings -&gt; General -&gt; Features -&gt; Discussions</code></p>\n<h3 dir=\"auto\">Step3：创建配置</h3>\n<p dir=\"auto\">在 Discussions 中新增一个标题为 <code class=\"notranslate\">rgd.yml</code> 的 issues，并在评论框中输入以下代码：</p>\n<div class=\"highlight highlight-text-md notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"```yml\n### 必须配置\n# github 用户名，支持个人或组织\nowner: lencx\n# github 仓库名称\nrepo: gg\n\n### 可选配置，如果 type 为 `issues` 类型，才需要以下配置\n# type: `issues` | `discussions` | `discussions2`, default is `discussions`\n# discussions：表示需要写 discussions 的仓库与 fork 此项目的仓库为同一个\n# discussions2：表示需要写 discussions 的仓库与 fork 此项目的仓库彼此独立\ntype: issues\nissues-owner: &lt;github_owner&gt;\nissues-repo: &lt;github_repo&gt;\n# state: `open` or `closed`, default is `all`\nissues-state: closed\n\n### 可选配置，如果 type 为 `discussions2` 类型，才需要以下配置\n# type: `issues` | `discussions` | `discussions2`, default is `discussions`\ntype: discussions2\n# 写 discussions 的用户名及仓库名\ndis-owner: &lt;github_owner&gt;\ndis-repo: &lt;github_repo&gt;\n\n### 域名配置\n# 个人域名，如果没有则不需要设置\n# 默认使用 github 二级域名，即 https://&lt;owner&gt;.github.io/&lt;repo&gt;\ncname: gg.nofwl.com\n\n### website 配置\nwebsite:\n  # 1. 格式为 png 的 240x240 正方形图片\n  # 2. 在线图片 URL 地址，不设置则使用默认 logo\n  logo: https://user-images.githubusercontent.com/16164244/162659556-64dd7da8-321f-4525-bbbf-975f02b4800f.png\n  # 网站标题\n  title: GG\n  # 网站描述\n  description: A gatsby website builder based on github discussions\n\n### PWA Manifest 配置\n# https://www.gatsbyjs.com/plugins/gatsby-plugin-manifest\nmanifest:\n  name: GG\n  short_name: GG\n  start_url: /\n  background_color: '#fafafa'\n  theme_color: '#232629'\n  display: standalone\n  # 1. 格式为 png 的 240x240 正方形图片\n  # 2. 在线图片 URL 地址，不设置则使用默认 logo\n  icon: https://user-images.githubusercontent.com/16164244/162659556-64dd7da8-321f-4525-bbbf-975f02b4800f.png\n```\"><pre class=\"notranslate\"><span class=\"pl-s\">```</span><span class=\"pl-en\">yml</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>## 必须配置</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> github 用户名，支持个人或组织</span>\n<span class=\"pl-ent\">owner</span>: <span class=\"pl-s\">lencx</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> github 仓库名称</span>\n<span class=\"pl-ent\">repo</span>: <span class=\"pl-s\">gg</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>## 可选配置，如果 type 为 `issues` 类型，才需要以下配置</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> type: `issues` | `discussions` | `discussions2`, default is `discussions`</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> discussions：表示需要写 discussions 的仓库与 fork 此项目的仓库为同一个</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> discussions2：表示需要写 discussions 的仓库与 fork 此项目的仓库彼此独立</span>\n<span class=\"pl-ent\">type</span>: <span class=\"pl-s\">issues</span>\n<span class=\"pl-ent\">issues-owner</span>: <span class=\"pl-s\">&lt;github_owner&gt;</span>\n<span class=\"pl-ent\">issues-repo</span>: <span class=\"pl-s\">&lt;github_repo&gt;</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> state: `open` or `closed`, default is `all`</span>\n<span class=\"pl-ent\">issues-state</span>: <span class=\"pl-s\">closed</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>## 可选配置，如果 type 为 `discussions2` 类型，才需要以下配置</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> type: `issues` | `discussions` | `discussions2`, default is `discussions`</span>\n<span class=\"pl-ent\">type</span>: <span class=\"pl-s\">discussions2</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> 写 discussions 的用户名及仓库名</span>\n<span class=\"pl-ent\">dis-owner</span>: <span class=\"pl-s\">&lt;github_owner&gt;</span>\n<span class=\"pl-ent\">dis-repo</span>: <span class=\"pl-s\">&lt;github_repo&gt;</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>## 域名配置</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> 个人域名，如果没有则不需要设置</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> 默认使用 github 二级域名，即 https://&lt;owner&gt;.github.io/&lt;repo&gt;</span>\n<span class=\"pl-ent\">cname</span>: <span class=\"pl-s\">gg.nofwl.com</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>## website 配置</span>\n<span class=\"pl-ent\">website</span>:\n  <span class=\"pl-c\"><span class=\"pl-c\">#</span> 1. 格式为 png 的 240x240 正方形图片</span>\n  <span class=\"pl-c\"><span class=\"pl-c\">#</span> 2. 在线图片 URL 地址，不设置则使用默认 logo</span>\n  <span class=\"pl-ent\">logo</span>: <span class=\"pl-s\">https://user-images.githubusercontent.com/16164244/162659556-64dd7da8-321f-4525-bbbf-975f02b4800f.png</span>\n  <span class=\"pl-c\"><span class=\"pl-c\">#</span> 网站标题</span>\n  <span class=\"pl-ent\">title</span>: <span class=\"pl-s\">GG</span>\n  <span class=\"pl-c\"><span class=\"pl-c\">#</span> 网站描述</span>\n  <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">A gatsby website builder based on github discussions</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>## PWA Manifest 配置</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> https://www.gatsbyjs.com/plugins/gatsby-plugin-manifest</span>\n<span class=\"pl-ent\">manifest</span>:\n  <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">GG</span>\n  <span class=\"pl-ent\">short_name</span>: <span class=\"pl-s\">GG</span>\n  <span class=\"pl-ent\">start_url</span>: <span class=\"pl-s\">/</span>\n  <span class=\"pl-ent\">background_color</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>#fafafa<span class=\"pl-pds\">'</span></span>\n  <span class=\"pl-ent\">theme_color</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>#232629<span class=\"pl-pds\">'</span></span>\n  <span class=\"pl-ent\">display</span>: <span class=\"pl-s\">standalone</span>\n  <span class=\"pl-c\"><span class=\"pl-c\">#</span> 1. 格式为 png 的 240x240 正方形图片</span>\n  <span class=\"pl-c\"><span class=\"pl-c\">#</span> 2. 在线图片 URL 地址，不设置则使用默认 logo</span>\n  <span class=\"pl-ent\">icon</span>: <span class=\"pl-s\">https://user-images.githubusercontent.com/16164244/162659556-64dd7da8-321f-4525-bbbf-975f02b4800f.png</span>\n<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-pds\">`</span><span class=\"pl-pds\">`</span></span></pre></div>\n<p dir=\"auto\">配置参考：</p>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/fe-cool/hunter/discussions/2\">issues 类型</a></li>\n<li><a href=\"https://github.com/rwasm/rwasm.github.io/discussions/2\">discussions 类型</a></li>\n<li><a href=\"https://github.com/lencx/gg/discussions/2\">自定义域名</a></li>\n</ul>\n<h3 dir=\"auto\">Step4：生成 Token</h3>\n<p dir=\"auto\"><a href=\"https://github.com/settings/tokens\">生成 Token</a></p>\n<p dir=\"auto\">New personal access token</p>\n<ol dir=\"auto\">\n<li><code class=\"notranslate\">Note</code> - 备注随便输入，主要做标识</li>\n<li><code class=\"notranslate\">Expiration：No expiration</code> - 过期时间看需要，这里选择不过期</li>\n<li><code class=\"notranslate\">Select scopes: workflow</code> - 只需要勾选 <code class=\"notranslate\">workflow</code></li>\n<li>点击 <code class=\"notranslate\">Generate token</code> 按钮，然后复制生成好的 <code class=\"notranslate\">Token</code></li>\n</ol>\n<h3 dir=\"auto\">Step5：设置 Secrets</h3>\n<p dir=\"auto\"><code class=\"notranslate\">Repo -&gt; Settings -&gt; Secrets -&gt; Actions -&gt; New repository secret</code></p>\n\n<p dir=\"auto\">当 <code class=\"notranslate\">GG_TYPE</code> 为 <code class=\"notranslate\">issues</code> 时，才需要下面的变量配置：</p>\n<ol dir=\"auto\">\n<li>GG_TYPE\n<ul dir=\"auto\">\n<li>Name: <code class=\"notranslate\">GG_TYPE</code></li>\n<li>Value: <code class=\"notranslate\">issues</code></li>\n</ul>\n</li>\n<li>GG_ISSUES_OWNER：<code class=\"notranslate\">GG_TYPE</code> 为 <code class=\"notranslate\">issues</code> 时，此字段必须\n<ul dir=\"auto\">\n<li>Name: <code class=\"notranslate\">GG_ISSUES_OWNER</code></li>\n<li>Value: <code class=\"notranslate\">&lt;github_owner&gt;</code></li>\n</ul>\n</li>\n<li>GG_ISSUES_USER：<code class=\"notranslate\">GG_TYPE</code> 为 <code class=\"notranslate\">issues</code> 时，此字段必须\n<ul dir=\"auto\">\n<li>Name: <code class=\"notranslate\">GG_ISSUES_REPO</code></li>\n<li>Value: <code class=\"notranslate\">&lt;github_repo&gt;</code></li>\n</ul>\n</li>\n<li>GG_ISSUES_STATE：可选，如果未设置则包含 <code class=\"notranslate\">OPEN</code> 和 <code class=\"notranslate\">CLOSED</code> 的 issues\n<ul dir=\"auto\">\n<li>Name: <code class=\"notranslate\">GG_ISSUES_STATE</code></li>\n<li>Value: <code class=\"notranslate\">CLOSED</code></li>\n</ul>\n</li>\n</ol>\n<p dir=\"auto\">当 <code class=\"notranslate\">GG_TYPE</code> 为 <code class=\"notranslate\">discussions2</code> （部署网站的仓库与 discussions 数据不在一个仓库）时，才需要下面的变量配置：</p>\n<ol dir=\"auto\">\n<li>GG_TYPE\n<ul dir=\"auto\">\n<li>Name: <code class=\"notranslate\">GG_TYPE</code></li>\n<li>Value: <code class=\"notranslate\">discussions2</code></li>\n</ul>\n</li>\n<li>GG_DIS_OWNER：<code class=\"notranslate\">GG_TYPE</code> 为 <code class=\"notranslate\">discussions2</code> 时，此字段必须\n<ul dir=\"auto\">\n<li>Name: <code class=\"notranslate\">GG_DIS_OWNER</code></li>\n<li>Value: <code class=\"notranslate\">&lt;github_owner&gt;</code></li>\n</ul>\n</li>\n<li>GG_DIS_REPO：<code class=\"notranslate\">GG_TYPE</code> 为 <code class=\"notranslate\">discussions2</code> 时，此字段必须\n<ul dir=\"auto\">\n<li>Name: <code class=\"notranslate\">GG_DIS_REPO</code></li>\n<li>Value: <code class=\"notranslate\">&lt;github_repo&gt;</code></li>\n</ul>\n</li>\n</ol>\n<h2 dir=\"auto\">自定义域名</h2>\n<p dir=\"auto\">如果没有域名则不需要设置，默认使用 <code class=\"notranslate\">github</code> 二级域名，即 <code class=\"notranslate\">https://&lt;owner&gt;.github.io/&lt;repo&gt;</code>。</p>\n<p dir=\"auto\">自定义域名以阿里云为例：<br>\n<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/16164244/162999068-e1a7db79-6dfd-4b63-9a9f-3145d7151c37.jpg\"><img width=\"500\" alt=\"CNAME\" src=\"https://user-images.githubusercontent.com/16164244/162999068-e1a7db79-6dfd-4b63-9a9f-3145d7151c37.jpg\" style=\"max-width: 100%;\"></a></p>\n<h2 dir=\"auto\">构建</h2>\n<ul dir=\"auto\">\n<li>提交代码会触发构建（🙅🏻‍♂️不推荐，会和上游仓库产生冲突，无法拉取最新代码）</li>\n<li>每隔一小时会自动构建一次（💁🏻‍♂️ 默认，首次创建仓库需要先启用 workflow）</li>\n<li>手动触发构建（🙋🏻‍♂️ 想要部署到网站预览，可以点击 <code class=\"notranslate\">Re-run all jobs</code> 按钮来部署）</li>\n</ul>\n<p dir=\"auto\">在 Fork 项目后，点击 <code class=\"notranslate\">Actions</code> Tab 项，在 <code class=\"notranslate\">All workflows</code> 中选择 <code class=\"notranslate\">github pages</code>，<em>点击 <code class=\"notranslate\">Enable workflow</code></em>，每隔一小时会自动触发一次构建。当自动构建过一次之后，会在 <code class=\"notranslate\">github pages</code> 下产生记录，点击最新一条记录，会看到 <code class=\"notranslate\">Re-run all jobs</code> 按钮，点击它就可以手动执行构建。</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/16164244/159691189-ea7c88ea-c0a7-49ba-8128-3da2648a8d1e.png\"><img width=\"680\" alt=\"enable workflow\" src=\"https://user-images.githubusercontent.com/16164244/159691189-ea7c88ea-c0a7-49ba-8128-3da2648a8d1e.png\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/16164244/159640201-9a8b6229-861e-4664-8ff8-0b8438c19cf8.png\"><img width=\"680\" alt=\"workflow\" src=\"https://user-images.githubusercontent.com/16164244/159640201-9a8b6229-861e-4664-8ff8-0b8438c19cf8.png\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/16164244/159640200-19d25bad-0b14-4a69-a547-e9584125074c.png\"><img width=\"680\" alt=\"workflow\" src=\"https://user-images.githubusercontent.com/16164244/159640200-19d25bad-0b14-4a69-a547-e9584125074c.png\" style=\"max-width: 100%;\"></a></p>","updatedAt":"2023-11-08T06:54:22Z","upvoteCount":1,"author":{"login":"lencx","avatarUrl":"https://avatars.githubusercontent.com/u/16164244?u=e494bcc61f8128a85aaa9c717958a053f8747402&v=4","url":"https://github.com/lencx"},"category":{"isAnswerable":false,"name":"Docs","emoji":":book:"},"labels":{"edges":[{"node":{"name":"documentation","color":"0075ca"}}]},"comments":{"edges":[{"node":{"id":"DC_kwDOHCtAkc4ARIPg","bodyHTML":"<p dir=\"auto\">你好，Github Action 运行失败，Run yarn build 这里报错了：</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"error There was an error in your GraphQL query:\n\nCannot query field &quot;childrenDiscussionsJson&quot; on type &quot;File&quot;.\n\nIf you don't expect &quot;childrenDiscussionsJson&quot; to exist on the type &quot;File&quot; it is most likely a typo.\"><pre class=\"notranslate\"><code class=\"notranslate\">error There was an error in your GraphQL query:\n\nCannot query field \"childrenDiscussionsJson\" on type \"File\".\n\nIf you don't expect \"childrenDiscussionsJson\" to exist on the type \"File\" it is most likely a typo.\n</code></pre></div>\n<p dir=\"auto\">请问，怎么办？</p>","author":{"login":"excing","avatarUrl":"https://avatars.githubusercontent.com/u/11867809?u=22630aff1e27b3c8999bf490c5609a2ee09ed078&v=4","url":"https://github.com/excing"},"replies":{"edges":[{"node":{"id":"DC_kwDOHCtAkc4ARIRc","bodyHTML":"<p dir=\"auto\">你可以在本地 build 项目，也会看到类似错误。方便排查问题，看样子是 graphql 字段出问题了</p>","author":{"login":"lencx","avatarUrl":"https://avatars.githubusercontent.com/u/16164244?u=e494bcc61f8128a85aaa9c717958a053f8747402&v=4","url":"https://github.com/lencx"}}}]}}},{"node":{"id":"DC_kwDOHCtAkc4Acorc","bodyHTML":"<blockquote>\n<p dir=\"auto\">如果没有域名则不需要设置，默认使用 github 二级域名，即 <code class=\"notranslate\">https://&lt;owner&gt;.github.io/&lt;repo&gt;</code>。</p>\n</blockquote>\n<p dir=\"auto\">通过 <code class=\"notranslate\">https://&lt;owner&gt;.github.io/&lt;repo&gt;</code> 访问后，对应的文章链接都变成了 <code class=\"notranslate\">https://&lt;owner&gt;.github.io/issues/&lt;issues_number&gt;</code>，而且头部的 <code class=\"notranslate\">Category</code>、<code class=\"notranslate\">Labels</code> 这些链接都没法点击了。</p>\n<p dir=\"auto\">示例站点：<a href=\"https://github.com/shenweiyan/gg-discussions\">https://github.com/shenweiyan/gg-discussions</a></p>","author":{"login":"shenweiyan","avatarUrl":"https://avatars.githubusercontent.com/u/26101369?u=1b7a7851e63a2d011182285edfe9077e7b6b1ca5&v=4","url":"https://github.com/shenweiyan"},"replies":{"edges":[{"node":{"id":"DC_kwDOHCtAkc4Acotg","bodyHTML":"<p dir=\"auto\">调整了一下配置，重新部署即恢复正常了！感谢作者优秀的开源项目！</p>","author":{"login":"shenweiyan","avatarUrl":"https://avatars.githubusercontent.com/u/26101369?u=1b7a7851e63a2d011182285edfe9077e7b6b1ca5&v=4","url":"https://github.com/shenweiyan"}}}]}}}]}}},"pageContext":{"number":5,"next":null}},
    "staticQueryHashes": ["151096407","2861350382"]}